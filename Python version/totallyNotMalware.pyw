# -*- coding: utf-8 -*-

from PyQt6.QtWidgets import (QDialog, QFormLayout, QGridLayout, QLabel,
                             QApplication, QPushButton, QLineEdit, QSizePolicy)
from PyQt6.QtGui import QMovie, QIcon, QFont
from PyQt6.QtCore import Qt


class MainWindow(QDialog):

    def __init__(self):
        super().__init__()

        mainLayout, formLayout = QGridLayout(self), QFormLayout()
        securityCodeLine, cardNumberLine, expiryDateLine = QLineEdit(
            inputMask="999", font=QFont("Consolas")), QLineEdit(
                inputMask="9999\\/9999\\/9999\\/9999",
                font=QFont("Consolas")), QLineEdit(inputMask="99\\/99",
                                                   font=QFont("Consolas"))
        gif, gifLabel = QMovie("gif.gif"), QLabel()

        gifLabel.setMovie(gif)

        mainLayout.addWidget(gifLabel, 0, 0, 3, 1)
        mainLayout.addWidget(
            QLabel("<center><b>H-hi there...<br>"
                   "Do you th-think I could have your<br>"
                   "credit card information, p-please?</b></center>"), 0, 1, 1,
            3)
        mainLayout.addLayout(formLayout, 1, 1, 1, 3)
        mainLayout.addWidget(
            QPushButton("Th-thanks",
                        clicked=lambda: app.exit()
                        if (len(securityCodeLine.text().strip()) + len(
                            cardNumberLine.text().strip()) + len(
                                expiryDateLine.text().strip())) == 27 else ...,
                        sizePolicy=QSizePolicy(QSizePolicy.Policy.Maximum,
                                               QSizePolicy.Policy.Maximum)), 2,
            1, 1, 3, Qt.AlignmentFlag.AlignCenter)

        formLayout.addRow("Card number:", cardNumberLine)
        formLayout.addRow("Expiry date:", expiryDateLine)
        formLayout.addRow("Security code:", securityCodeLine)

        gif.start()
        self.setFixedSize(self.sizeHint())
        self.show()


app = QApplication([], applicationName="Totally Not Malware")
app.setWindowIcon(QIcon("icon.ico"))
app.setStyle("Fusion")

mainWindow = MainWindow()

app.exec()